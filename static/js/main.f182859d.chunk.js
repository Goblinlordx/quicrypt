(this.webpackJsonpquicrypt=this.webpackJsonpquicrypt||[]).push([[0],{24:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(18),s=n.n(a),o=n(8),i=(n(24),n(2)),u=n(1),l=function(){return Object(u.jsx)(u.Fragment,{children:"About"})},j=n(5),b=n(9),d=n.n(b),x=n(12),p=function(e){var t=Array.from(new Uint8Array(e)),n=6-t.length%6,c=t.concat(new Array(n).fill(n)).map((function(e){return String.fromCharCode(e)})).join("");return btoa(c)},f=function(e){var t=atob(e).split(""),n=t[t.length-1].charCodeAt(0),c=n>0&&n<=6?t.slice(0,t.length-n):t;return new Uint8Array(c.map((function(e){return e.charCodeAt(0)})))},O=function(){var e=Object(x.a)(d.a.mark((function e(t,n){var c,r,a,s,o,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.digest("SHA-256",(new TextEncoder).encode(t.trim()));case 2:return c=e.sent,r=crypto.getRandomValues(new Uint8Array(12)),a={name:"AES-GCM",iv:r},e.next=7,crypto.subtle.importKey("raw",c,a,!1,["encrypt"]);case 7:return s=e.sent,e.next=10,crypto.subtle.encrypt(a,s,(new TextEncoder).encode(n));case 10:return o=e.sent,i=p(r),u=p(o),e.abrupt("return","".concat(i,"$").concat(u));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(x.a)(d.a.mark((function e(t,n){var c,r,a,s,o,i,u,l,b,x,p,O,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=(new TextEncoder).encode(t.trim()),e.next=4,crypto.subtle.digest("SHA-256",c);case 4:return r=e.sent,a=n.split("$"),s=Object(j.a)(a,2),o=s[0],i=void 0===o?"":o,u=s[1],l=void 0===u?"":u,b=f(i),x=f(l),p={name:"AES-GCM",iv:b},e.next=11,crypto.subtle.importKey("raw",r,p,!1,["decrypt"]);case 11:return O=e.sent,e.next=14,crypto.subtle.decrypt(p,O,x);case 14:return h=e.sent,e.abrupt("return",[(new TextDecoder).decode(h),null]);case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",["",new Error("Invalid ciphertext or password")]);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=new URLSearchParams(Object(i.h)().search).get("ct"),t=Object(i.g)(),n=Object(i.i)(),r=Object(c.useState)(decodeURIComponent(e||"")),a=Object(j.a)(r,2),s=a[0],o=a[1],l=function(e,t,n){var c=n.path;return function(){return t.replace(c,{query:{}}),e.apply(void 0,arguments)}}(o,t,n),b=Object(c.useState)(""),p=Object(j.a)(b,2),f=p[0],O=p[1],v=function(e,t){var n=Object(c.useState)(""),r=Object(j.a)(n,2),a=r[0],s=r[1],o=Object(c.useState)(null),i=Object(j.a)(o,2),u=i[0],l=i[1];return Object(c.useEffect)((function(){Object(x.a)(d.a.mark((function n(){var c,r,a,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h(e,t);case 2:c=n.sent,r=Object(j.a)(c,2),a=r[0],o=r[1],s(a),l(o);case 8:case"end":return n.stop()}}),n)})))()}),[e,t]),[a,u]}(f,s),m=Object(j.a)(v,2),w=m[0],y=m[1];return Object(c.useEffect)((function(){e&&s!==e&&o(decodeURIComponent(e))}),[e]),Object(u.jsxs)("div",{className:"flex flex-grow flex-col m-4",children:[Object(u.jsxs)("label",{className:"flex flex-col m-4",children:[Object(u.jsx)("div",{children:"CipherText: "}),Object(u.jsx)("textarea",{className:"input",onInput:function(e){return l(e.currentTarget.value)},value:s})]}),Object(u.jsxs)("label",{className:"flex flex-col m-4",children:[Object(u.jsx)("div",{children:"Password: "}),Object(u.jsx)("textarea",{className:"input",onInput:function(e){return O(e.currentTarget.value)},value:f})]}),Object(u.jsxs)("label",{className:"flex flex-col flex-grow m-4",children:[Object(u.jsx)("div",{children:"PlainText: "}),!y&&Object(u.jsx)("textarea",{className:"input flex-grow h-20 bg-green-200 bg-opacity-100",disabled:!0,value:w}),y&&Object(u.jsx)("div",{className:"input flex-grow content-center justify-center bg-red-500",children:null===y||void 0===y?void 0:y.message})]})]})},m=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(j.a)(a,2),i=s[0],l=s[1],b=function(e,t){var n=Object(c.useState)(""),r=Object(j.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){Object(x.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=s,n.next=3,O(e,t);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)})))()}),[e,t]),a}(i,n),p="/decrypt?ct=".concat(encodeURIComponent(b));return Object(u.jsxs)("div",{className:"flex flex-grow flex-col",children:[Object(u.jsxs)("label",{className:"flex flex-grow flex-col m-8",children:[Object(u.jsx)("div",{children:"PlainText: "}),Object(u.jsx)("textarea",{className:"input flex-grow",onInput:function(e){return r(e.currentTarget.value)}})]}),Object(u.jsxs)("label",{className:"flex flex-col m-8",children:[Object(u.jsx)("div",{children:"Password: "}),Object(u.jsx)("textarea",{className:"input",onInput:function(e){return l(e.currentTarget.value)}})]}),Object(u.jsxs)("label",{className:"flex flex-col m-8",children:[Object(u.jsx)("div",{children:"CipherText: "}),Object(u.jsx)("textarea",{className:"input",disabled:!0,value:b})]}),Object(u.jsx)(o.b,{to:p,children:"Decryption link"})]})},w=function(){return Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/encrypt",component:m}),Object(u.jsx)(i.b,{path:"/decrypt",component:v}),Object(u.jsx)(i.b,{path:"/about",component:l}),Object(u.jsx)(i.a,{to:"/encrypt"})]})},y=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"Quicrypt"}),Object(u.jsx)("div",{children:Object(u.jsx)(o.b,{to:"/encrypt",children:"Encrypt"})}),Object(u.jsx)("div",{children:Object(u.jsx)(o.b,{to:"/decrypt",children:"Decrypt"})}),Object(u.jsx)("div",{children:Object(u.jsx)(o.b,{to:"/about",children:"About"})})]})},g=function(){return Object(u.jsxs)("div",{className:"min-h-screen flex flex-grow flex-col text-gray-300 font-sans",children:[Object(u.jsx)(y,{}),Object(u.jsx)(w,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(g,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),N()}},[[32,1,2]]]);
//# sourceMappingURL=main.f182859d.chunk.js.map