(this.webpackJsonpquicrypt=this.webpackJsonpquicrypt||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(18),s=n.n(a),o=n(10),u=(n(24),n(25),n(2)),i=n(5),j=n(8),b=n.n(j),l=n(12),p=function(e){var t=Array.from(new Uint8Array(e));return btoa(t.map((function(e){return String.fromCharCode(e)})).join(""))},d=function(e){return new Uint8Array(atob(e).split("").map((function(e){return e.charCodeAt(0)})))},x=function(){var e=Object(l.a)(b.a.mark((function e(t,n){var r,c,a,s,o,u,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.digest("SHA-256",(new TextEncoder).encode(t.trim()));case 2:return r=e.sent,c=crypto.getRandomValues(new Uint8Array(12)),a={name:"AES-GCM",iv:c},e.next=7,crypto.subtle.importKey("raw",r,a,!1,["encrypt"]);case 7:return s=e.sent,e.next=10,crypto.subtle.encrypt(a,s,(new TextEncoder).encode(n));case 10:return o=e.sent,u=p(c),i=p(o),e.abrupt("return","".concat(u,"$").concat(i));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(b.a.mark((function e(t,n){var r,c,a,s,o,u,j,l,p,x,O,h,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(new TextEncoder).encode(t.trim()),e.next=4,crypto.subtle.digest("SHA-256",r);case 4:return c=e.sent,a=n.split("$"),s=Object(i.a)(a,2),o=s[0],u=void 0===o?"":o,j=s[1],l=void 0===j?"":j,p=d(u),x=d(l),O={name:"AES-GCM",iv:p},e.next=11,crypto.subtle.importKey("raw",c,O,!1,["decrypt"]);case 11:return h=e.sent,e.next=14,crypto.subtle.decrypt(O,h,x);case 14:return f=e.sent,e.abrupt("return",[(new TextDecoder).decode(f),null]);case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",["",new Error("Invalid ciphertext or password")]);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),h=n(1),f=function(){var e=new URLSearchParams(Object(u.h)().search).get("ct"),t=Object(u.g)(),n=Object(u.i)(),c=Object(r.useState)(decodeURIComponent(e||"")),a=Object(i.a)(c,2),s=a[0],o=a[1],j=function(e,t,n){var r=n.path;return function(){return t.replace(r,{query:{}}),e.apply(void 0,arguments)}}(o,t,n),p=Object(r.useState)(""),d=Object(i.a)(p,2),x=d[0],f=d[1],v=function(e,t){var n=Object(r.useState)(""),c=Object(i.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(null),u=Object(i.a)(o,2),j=u[0],p=u[1];return Object(r.useEffect)((function(){Object(l.a)(b.a.mark((function n(){var r,c,a,o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O(e,t);case 2:r=n.sent,c=Object(i.a)(r,2),a=c[0],o=c[1],s(a),p(o);case 8:case"end":return n.stop()}}),n)})))()}),[e,t]),[a,j]}(x,s),m=Object(i.a)(v,2),y=m[0],w=m[1];return Object(r.useEffect)((function(){e&&s!==e&&o(decodeURIComponent(e))}),[e]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"CipherText: "}),Object(h.jsx)("textarea",{onInput:function(e){return j(e.currentTarget.value)},value:s})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Password: "}),Object(h.jsx)("textarea",{onInput:function(e){return f(e.currentTarget.value)},value:x})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"PlainText: "}),Object(h.jsx)("textarea",{style:{height:300},disabled:!0,value:y})]}),Object(h.jsx)("div",{children:null===w||void 0===w?void 0:w.message})]})},v=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(i.a)(a,2),u=s[0],j=s[1],p=function(e,t){var n=Object(r.useState)(""),c=Object(i.a)(n,2),a=c[0],s=c[1];return Object(r.useEffect)((function(){Object(l.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=s,n.next=3,x(e,t);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)})))()}),[e,t]),a}(u,n),d="/decrypt?ct=".concat(encodeURIComponent(p));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"PlainText: "}),Object(h.jsx)("textarea",{style:{height:300},onInput:function(e){return c(e.currentTarget.value)}})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Password: "}),Object(h.jsx)("textarea",{onInput:function(e){return j(e.currentTarget.value)}})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"CipherText: "}),Object(h.jsx)("textarea",{disabled:!0,value:p})]}),Object(h.jsx)(o.b,{to:d,children:"Decryption link"})]})};var m=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)("header",{className:"App-header",children:Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{path:"/encrypt",component:v}),Object(h.jsx)(u.b,{path:"/decrypt",component:f}),Object(h.jsx)(u.b,{path:"/about",component:v}),Object(h.jsx)(u.a,{to:"/encrypt"})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(o.a,{children:Object(h.jsx)(m,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),y()}},[[33,1,2]]]);
//# sourceMappingURL=main.35244a78.chunk.js.map